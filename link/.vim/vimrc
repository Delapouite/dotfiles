" set options - NO spaces around =

" About neovim support :
" - cnvim - some default options are Changed : https://github.com/neovim/neovim/issues/2676
" - dnvim - Deleted options appear in red
" - envim - this is now enabled by default, therefore Extraneous

" viM | dnvim
set nocompatible

" better communication with OS
set clipboard=unnamedplus
" to resize split windows | envim
set mouse=a

" colors
" in neovim make sure to use export TERM=xterm-256colors instead | dnvim
set t_Co=256
set background=light
hi Cursor ctermfg=14 ctermbg=white
syntax on

" display invisible chars
set list
set listchars=nbsp:•,eol:¬,tab:\¦\ ,trail:~,extends:▶,precedes:◀
" replace with fancy chars if declared (see after/syntax/javascript.vim)
set conceallevel=2
set lazyredraw

" crosshair on focus
set cursorline cursorcolumn
" room to breath
set scrolloff=5

" dynamic line numbers
set nonumber

" search | envim
set hlsearch
set incsearch

" better than 50 | envim
set history=10000

" dirs
set directory=~/.vim/swap/
set backupdir=~/.vim/backup/
set undodir=~/.vim/undo/
set undofile

" tabs, default: T2 @see mappings.vim
set noexpandtab
" envim
set autoindent
set colorcolumn=80,120
set shiftwidth=2
set softtabstop=2
set tabstop=2

" don't truncate words
set linebreak

" jump between start and end HTML tags | envim
runtime! macros/matchit.vim

" statusline

" always display
set laststatus=2

set statusline=%F\      "filename
set statusline+=[
set statusline+=%{strlen(&fenc)?&fenc:'none'}, "file encoding
set statusline+=%{&ff}, "file format (unix, windows)
set statusline+=%{getfsize(expand('%%:p'))}b "file size
set statusline+=]
set statusline+=%y      "filetype
set statusline+=%h      "help file flag
set statusline+=%m      "modified flag
set statusline+=%r      "read only flag
set statusline+=%=      "left/right separator
set statusline+=%c,     "cursor column
set statusline+=%l/%L   "cursor line/total lines
set statusline+=\ %P    "percent through file

" used by gf to follow ES6 import - Ctrl-o to come back
set suffixesadd=.js,.jsx

" Ctrl-p will look in dictionary if set spell is activated
set complete=.,w,b,u,t,i,kspell

set timeoutlen=1000 ttimeoutlen=0

" sources
source ~/.vim/plugins.vim
source ~/.vim/mappings.vim
source ~/.vim/autocmds.vim
source ~/.vim/functions.vim

" lang specific mappings
if !empty(system("setxkbmap -print|grep bepo"))
	source ~/.vim/vimrc.bepo
" elseif !empty(system("setxkbmap -print|grep lafayette"))
" 	source ~/.vim/vimrc.lafayette
else
	source ~/.vim/vimrc.azerty
endif
